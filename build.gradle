buildscript {
    repositories {
        jcenter()
        mavenCentral()
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath "com.github.jengelman.gradle.plugins:shadow:4.0.4"
    }
}

plugins {
    id 'java'
}

apply from: file("./gradle/dependency-versions.gradle")
apply plugin: 'scala'
apply plugin: "com.github.johnrengelman.shadow"

repositories {
    mavenCentral()
    jcenter()
}

group 'com.ferran.projects'
version '1.0-SNAPSHOT'

def projectName = "stellar-processor"

shadowJar {
    zip64 = true
    baseName = "${projectName}_$scalaVersion"
    version = "$version"
    mergeServiceFiles()

    manifest {
        attributes(
                'Main-Class': 'com.ferran.projects.StellarProcessor'
        )
    }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile("org.scala-lang:scala-library:$scalaLibVersion")
    compile("org.scala-lang:scala-compiler:$scalaLibVersion")
    compile("com.typesafe:config:$typesafeVersion")
    compile("io.circe:circe-config_$scalaVersion:${circeConfig}")
    compile("io.circe:circe-generic_$scalaVersion:$circe")
    compile("io.circe:circe-parser_$scalaVersion:$circe")
    compile("io.circe:circe-literal_$scalaVersion:$circe")
    compile("org.http4s:http4s-dsl_$scalaVersion:$http4s")
    compile("org.http4s:http4s-blaze-client_$scalaVersion:$http4s")
    compile("org.http4s:http4s-circe_$scalaVersion:$http4s")
    compile("org.apache.spark:spark-sql-kafka-0-10_$scalaVersion:$spark")
    compile("org.apache.kafka:kafka_$scalaVersion:$kafka")
    compile("org.json4s:json4s-core_$scalaVersion:$json4s")
    compile("org.json4s:json4s-jackson_$scalaVersion:$json4s")

}
